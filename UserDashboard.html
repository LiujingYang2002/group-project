<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <header class="bg-info text-white text-center py-4">
        <h1 class="mt-0 mb-2 mx-5 text-left">[User Name] Dashboard</h1>
    </header>   
    <div class="container my-5">

        <div class="row mt-4">
            <!-- Side navigation -->
            <div class="col-md-3 border-right">
                <!-- User profile info -->
                <div class="text-center mb-3">
                    <img src="test.png" alt="User Profile Image" class="rounded-circle" width="150" height="150" hid="profileImagePreview">
                    <h5 class="mt-2">[Username]</h5>
                </div>
            
                <ul class="nav flex-column text-center">
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="profileLink">Change Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#" id="orderLink">Check Order</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="messageLink">Check Message</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="messageLink">Logout</a>
                    </li>
                </ul>
            </div>

            <!-- Main content area -->
            <div class="col-md-9 mb-6">
                <!-- Content for "Change Profile" -->
                <div id="profileSection" style="display: none;">
                    <h4>Change Profile</h4>
                
                    <form>

                        <div class="form-group">
                            <label for="profileImg">Profile Image:</label>
                            <input type="file" class="form-control-file" id="profileImg">
                            <img src="#" id="imgPreview" class="mt-3 rounded-circle" alt="Image Preview" style="width: 150px; height: 150px; object-fit: cover; display: none;">
                            <br>
                            <button type="button" class="btn btn-primary mt-2">Update</button>
                        </div>

                        <div class="form-group">
                            <label for="username">Username:</label>
                            <input type="text" class="form-control" id="username" placeholder="Enter New Username">
                            <button type="button" class="btn btn-primary mt-2">Update</button>
                        </div>
                
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" class="form-control" id="email" placeholder="Enter New Email">
                            <button type="button" class="btn btn-primary mt-2">Update</button>
                        </div>
                
                        <div class="form-group">
                            <label for="pwd">Password:</label>
                            <input type="password" class="form-control" id="pwd" placeholder="Enter New Password">
                            <button type="button" class="btn btn-primary mt-2">Update</button>
                        </div>
                
                    </form>
                </div>

                <div id="orderSection">
                    <h4>Check Order</h4>

                    <div class="order-item p-3 border rounded">
                        <div>
                            <img src="test.png" alt="Train Image" class="rounded float-left mr-3" width="75" height="75">
                        </div>
                        <div>
                            <div class="d-flex justify-content-between">
                                <p><strong>From:</strong> Start Station </p>
                                <p><strong>To:</strong> End Station</p>
                                <a href="#" data-toggle="modal" data-target="#orderDetailModal">Detail ></a>
                            </div>
                            <div class="d-flex justify-content-between">
                                <p><strong>Departure:</strong> 10:00 AM</p>
                                <p><strong>Train number:</strong> G6534 </p>
                                <p><strong>Seat:</strong> A1</p>
                            </div>
                        </div>
                    </div>

                    <!-- ... other order items -->

                    <!-- Order Detail Modal -->
                    <div class="modal fade" id="orderDetailModal" tabindex="-1" role="dialog" aria-labelledby="orderDetailModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="orderDetailModalLabel">Order Details</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <p><strong>Order No.</strong> 114514</p>
                                    <p><strong>Order Date:</strong> 2020-11-11</p>
                                    <p><strong>Order Status:</strong> Completed</p>
                                    <p><strong>Train number:</strong> G6534 </p>
                                    <p><strong>From:</strong> Start Station <strong>To:</strong> End Station</p>
                                    <p><strong>Departure:</strong> 10:00 AM</p>
                                    <p><strong>Seat:</strong> A1</p>
                                    <!-- ... Additional details about the order and ticket -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Content for "Check Message" -->
                <div id="messageSection" style="display: none;">
                    <h4>Check Message</h4>
                    <p>Message from Admin: "Your order #12345 has been processed!"</p>
                        <!-- ... other example messages -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Detail Modal -->
        <!-- ... (Same as before) -->

    
    </div>
    <footer class="footer bg-info text-white text-center py-2" style="bottom: 0; position: fixed; width: 100%;">       
        <p class="m-0">&copy 20075809D CHEN Sinan 23012985X YANG Liujing - EIE4432 Group Project</p>     
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // Add event listeners to switch content based on the side navigation selection
        $('#profileLink').click(function() {
            $('#profileSection').show();
            $('#orderSection').hide();
            $('#messageSection').hide();
        });
        $('#orderLink').click(function() {
            $('#profileSection').hide();
            $('#orderSection').show();
            $('#messageSection').hide();
        });
        $('#messageLink').click(function() {
            $('#profileSection').hide();
            $('#orderSection').hide();
            $('#messageSection').show();
        });
        $('#profileImg').on('change', function() {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                $('#imgPreview').attr('src', event.target.result).show();
                $('#profileImagePreview').attr('src', event.target.result);
            }
            reader.readAsDataURL(file);
        }
    });
    </script>
</body>
</html>
